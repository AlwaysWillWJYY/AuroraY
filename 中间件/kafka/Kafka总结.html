<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>说说你对kafka的理解 | Auraro&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/AuroraY/logo.png">
    <script language="javascript" type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="/AuroraY/js/MouseClickEffect.js"></script>
    <meta name="description" content="面向对象面向君，不负代码不负卿。">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <meta name="keywords" content="AuraroJ,博客,conimi,nico">
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <link rel="preload" href="/AuroraY/assets/css/0.styles.434c7a90.css" as="style"><link rel="preload" href="/AuroraY/assets/js/app.f7dbd4f5.js" as="script"><link rel="preload" href="/AuroraY/assets/js/3.baa1ae3e.js" as="script"><link rel="preload" href="/AuroraY/assets/js/1.17eb7108.js" as="script"><link rel="preload" href="/AuroraY/assets/js/241.c0f1b20c.js" as="script"><link rel="prefetch" href="/AuroraY/assets/js/10.5cde4a25.js"><link rel="prefetch" href="/AuroraY/assets/js/100.76de9f0c.js"><link rel="prefetch" href="/AuroraY/assets/js/101.32db529b.js"><link rel="prefetch" href="/AuroraY/assets/js/102.a8814a47.js"><link rel="prefetch" href="/AuroraY/assets/js/103.8b189fd9.js"><link rel="prefetch" href="/AuroraY/assets/js/104.10b40e5c.js"><link rel="prefetch" href="/AuroraY/assets/js/105.54cfbeca.js"><link rel="prefetch" href="/AuroraY/assets/js/106.5982f519.js"><link rel="prefetch" href="/AuroraY/assets/js/107.0b26ed28.js"><link rel="prefetch" href="/AuroraY/assets/js/108.85ac242a.js"><link rel="prefetch" href="/AuroraY/assets/js/109.e1cac92c.js"><link rel="prefetch" href="/AuroraY/assets/js/11.9aa5edfb.js"><link rel="prefetch" href="/AuroraY/assets/js/110.016d9104.js"><link rel="prefetch" href="/AuroraY/assets/js/111.cb85b146.js"><link rel="prefetch" href="/AuroraY/assets/js/112.c5f652b4.js"><link rel="prefetch" href="/AuroraY/assets/js/113.976fbfa6.js"><link rel="prefetch" href="/AuroraY/assets/js/114.79955418.js"><link rel="prefetch" href="/AuroraY/assets/js/115.26d0e54c.js"><link rel="prefetch" href="/AuroraY/assets/js/116.1125b705.js"><link rel="prefetch" href="/AuroraY/assets/js/117.e8f5fcdb.js"><link rel="prefetch" href="/AuroraY/assets/js/118.1640e3d1.js"><link rel="prefetch" href="/AuroraY/assets/js/119.a2304515.js"><link rel="prefetch" href="/AuroraY/assets/js/12.60bc0f16.js"><link rel="prefetch" href="/AuroraY/assets/js/120.e8b9ef94.js"><link rel="prefetch" href="/AuroraY/assets/js/121.6060955b.js"><link rel="prefetch" href="/AuroraY/assets/js/122.1255db99.js"><link rel="prefetch" href="/AuroraY/assets/js/123.cbb5d3ad.js"><link rel="prefetch" href="/AuroraY/assets/js/124.18d89237.js"><link rel="prefetch" href="/AuroraY/assets/js/125.8c42199b.js"><link rel="prefetch" href="/AuroraY/assets/js/126.2f3c9ea2.js"><link rel="prefetch" href="/AuroraY/assets/js/127.92699dca.js"><link rel="prefetch" href="/AuroraY/assets/js/128.25f8cfed.js"><link rel="prefetch" href="/AuroraY/assets/js/129.fd359e13.js"><link rel="prefetch" href="/AuroraY/assets/js/13.d19e71e7.js"><link rel="prefetch" href="/AuroraY/assets/js/130.ea8cd0b9.js"><link rel="prefetch" href="/AuroraY/assets/js/131.24098683.js"><link rel="prefetch" href="/AuroraY/assets/js/132.60cbb79c.js"><link rel="prefetch" href="/AuroraY/assets/js/133.49550e8f.js"><link rel="prefetch" href="/AuroraY/assets/js/134.4cee8da4.js"><link rel="prefetch" href="/AuroraY/assets/js/135.cd12c251.js"><link rel="prefetch" href="/AuroraY/assets/js/136.7da3e56c.js"><link rel="prefetch" href="/AuroraY/assets/js/137.110aace5.js"><link rel="prefetch" href="/AuroraY/assets/js/138.a9e993f3.js"><link rel="prefetch" href="/AuroraY/assets/js/139.5419d154.js"><link rel="prefetch" href="/AuroraY/assets/js/14.add2b9d1.js"><link rel="prefetch" href="/AuroraY/assets/js/140.a57ca897.js"><link rel="prefetch" href="/AuroraY/assets/js/141.eb68fab9.js"><link rel="prefetch" href="/AuroraY/assets/js/142.b3e3d685.js"><link rel="prefetch" href="/AuroraY/assets/js/143.52c93c27.js"><link rel="prefetch" href="/AuroraY/assets/js/144.2e76b79c.js"><link rel="prefetch" href="/AuroraY/assets/js/145.8ca6ef45.js"><link rel="prefetch" href="/AuroraY/assets/js/146.995536eb.js"><link rel="prefetch" href="/AuroraY/assets/js/147.140e216e.js"><link rel="prefetch" href="/AuroraY/assets/js/148.3cb7a17b.js"><link rel="prefetch" href="/AuroraY/assets/js/149.d2981386.js"><link rel="prefetch" href="/AuroraY/assets/js/15.582742d3.js"><link rel="prefetch" href="/AuroraY/assets/js/150.3857d6b4.js"><link rel="prefetch" href="/AuroraY/assets/js/151.0a5955f1.js"><link rel="prefetch" href="/AuroraY/assets/js/152.06799424.js"><link rel="prefetch" href="/AuroraY/assets/js/153.7a03d301.js"><link rel="prefetch" href="/AuroraY/assets/js/154.53ed540e.js"><link rel="prefetch" href="/AuroraY/assets/js/155.734e0557.js"><link rel="prefetch" href="/AuroraY/assets/js/156.eb140355.js"><link rel="prefetch" href="/AuroraY/assets/js/157.6dc0276a.js"><link rel="prefetch" href="/AuroraY/assets/js/158.23bf6c41.js"><link rel="prefetch" href="/AuroraY/assets/js/159.002c7cc3.js"><link rel="prefetch" href="/AuroraY/assets/js/16.f8623d4d.js"><link rel="prefetch" href="/AuroraY/assets/js/160.e1b8eb57.js"><link rel="prefetch" href="/AuroraY/assets/js/161.0e631e11.js"><link rel="prefetch" href="/AuroraY/assets/js/162.abe4d8e7.js"><link rel="prefetch" href="/AuroraY/assets/js/163.8142e4b3.js"><link rel="prefetch" href="/AuroraY/assets/js/164.bfa389fb.js"><link rel="prefetch" href="/AuroraY/assets/js/165.724a4476.js"><link rel="prefetch" href="/AuroraY/assets/js/166.97366560.js"><link rel="prefetch" href="/AuroraY/assets/js/167.7d2fbc89.js"><link rel="prefetch" href="/AuroraY/assets/js/168.cede3f04.js"><link rel="prefetch" href="/AuroraY/assets/js/169.475c513a.js"><link rel="prefetch" href="/AuroraY/assets/js/17.610ee079.js"><link rel="prefetch" href="/AuroraY/assets/js/170.6ea5e8e7.js"><link rel="prefetch" href="/AuroraY/assets/js/171.f1d4dfd2.js"><link rel="prefetch" href="/AuroraY/assets/js/172.e0619447.js"><link rel="prefetch" href="/AuroraY/assets/js/173.2309feee.js"><link rel="prefetch" href="/AuroraY/assets/js/174.863eaae1.js"><link rel="prefetch" href="/AuroraY/assets/js/175.52b3f045.js"><link rel="prefetch" href="/AuroraY/assets/js/176.c4dcf02a.js"><link rel="prefetch" href="/AuroraY/assets/js/177.c0c23af0.js"><link rel="prefetch" href="/AuroraY/assets/js/178.1a8252cf.js"><link rel="prefetch" href="/AuroraY/assets/js/179.6d853e24.js"><link rel="prefetch" href="/AuroraY/assets/js/18.2e373db1.js"><link rel="prefetch" href="/AuroraY/assets/js/180.5af03b8e.js"><link rel="prefetch" href="/AuroraY/assets/js/181.099e73e3.js"><link rel="prefetch" href="/AuroraY/assets/js/182.47f0e96b.js"><link rel="prefetch" href="/AuroraY/assets/js/183.f02cab01.js"><link rel="prefetch" href="/AuroraY/assets/js/184.aecd6a9e.js"><link rel="prefetch" href="/AuroraY/assets/js/185.6b49a449.js"><link rel="prefetch" href="/AuroraY/assets/js/186.175940ba.js"><link rel="prefetch" href="/AuroraY/assets/js/187.debcc733.js"><link rel="prefetch" href="/AuroraY/assets/js/188.5f164ecd.js"><link rel="prefetch" href="/AuroraY/assets/js/189.5a4030ec.js"><link rel="prefetch" href="/AuroraY/assets/js/19.a9cebc54.js"><link rel="prefetch" href="/AuroraY/assets/js/190.7b39654f.js"><link rel="prefetch" href="/AuroraY/assets/js/191.8b60b2d3.js"><link rel="prefetch" href="/AuroraY/assets/js/192.ad4ce342.js"><link rel="prefetch" href="/AuroraY/assets/js/193.656a7061.js"><link rel="prefetch" href="/AuroraY/assets/js/194.6e0c3a18.js"><link rel="prefetch" href="/AuroraY/assets/js/195.d75c154f.js"><link rel="prefetch" href="/AuroraY/assets/js/196.8c407eb4.js"><link rel="prefetch" href="/AuroraY/assets/js/197.fcfc4cab.js"><link rel="prefetch" href="/AuroraY/assets/js/198.0fcd8c89.js"><link rel="prefetch" href="/AuroraY/assets/js/199.04e1448e.js"><link rel="prefetch" href="/AuroraY/assets/js/20.2f684cc1.js"><link rel="prefetch" href="/AuroraY/assets/js/200.d80bcfbb.js"><link rel="prefetch" href="/AuroraY/assets/js/201.b6137ab7.js"><link rel="prefetch" href="/AuroraY/assets/js/202.f95f8a29.js"><link rel="prefetch" href="/AuroraY/assets/js/203.031a711b.js"><link rel="prefetch" href="/AuroraY/assets/js/204.de18b057.js"><link rel="prefetch" href="/AuroraY/assets/js/205.c0e770a0.js"><link rel="prefetch" href="/AuroraY/assets/js/206.976b3939.js"><link rel="prefetch" href="/AuroraY/assets/js/207.3062f774.js"><link rel="prefetch" href="/AuroraY/assets/js/208.e68e4edb.js"><link rel="prefetch" href="/AuroraY/assets/js/209.38809b36.js"><link rel="prefetch" href="/AuroraY/assets/js/21.c601bb2b.js"><link rel="prefetch" href="/AuroraY/assets/js/210.869f6462.js"><link rel="prefetch" href="/AuroraY/assets/js/211.9d513ef0.js"><link rel="prefetch" href="/AuroraY/assets/js/212.c1ab450f.js"><link rel="prefetch" href="/AuroraY/assets/js/213.7b2ad415.js"><link rel="prefetch" href="/AuroraY/assets/js/214.ccbf4a82.js"><link rel="prefetch" href="/AuroraY/assets/js/215.875dcbc4.js"><link rel="prefetch" href="/AuroraY/assets/js/216.af254271.js"><link rel="prefetch" href="/AuroraY/assets/js/217.4c96e0c2.js"><link rel="prefetch" href="/AuroraY/assets/js/218.f05802be.js"><link rel="prefetch" href="/AuroraY/assets/js/219.02c2201a.js"><link rel="prefetch" href="/AuroraY/assets/js/22.715a7176.js"><link rel="prefetch" href="/AuroraY/assets/js/220.64132ab9.js"><link rel="prefetch" href="/AuroraY/assets/js/221.adfd77c4.js"><link rel="prefetch" href="/AuroraY/assets/js/222.12a55772.js"><link rel="prefetch" href="/AuroraY/assets/js/223.7bda1886.js"><link rel="prefetch" href="/AuroraY/assets/js/224.af2e742d.js"><link rel="prefetch" href="/AuroraY/assets/js/225.4de7371c.js"><link rel="prefetch" href="/AuroraY/assets/js/226.25381136.js"><link rel="prefetch" href="/AuroraY/assets/js/227.5e5e30a8.js"><link rel="prefetch" href="/AuroraY/assets/js/228.477b1418.js"><link rel="prefetch" href="/AuroraY/assets/js/229.646b1649.js"><link rel="prefetch" href="/AuroraY/assets/js/23.7cc08dae.js"><link rel="prefetch" href="/AuroraY/assets/js/230.b0737df8.js"><link rel="prefetch" href="/AuroraY/assets/js/231.9e6564c3.js"><link rel="prefetch" href="/AuroraY/assets/js/232.35e590c3.js"><link rel="prefetch" href="/AuroraY/assets/js/233.e054c473.js"><link rel="prefetch" href="/AuroraY/assets/js/234.f771220c.js"><link rel="prefetch" href="/AuroraY/assets/js/235.5099b5e6.js"><link rel="prefetch" href="/AuroraY/assets/js/236.46146681.js"><link rel="prefetch" href="/AuroraY/assets/js/237.7cadb721.js"><link rel="prefetch" href="/AuroraY/assets/js/238.307cbe6e.js"><link rel="prefetch" href="/AuroraY/assets/js/239.3c5ccdee.js"><link rel="prefetch" href="/AuroraY/assets/js/24.039ee5f1.js"><link rel="prefetch" href="/AuroraY/assets/js/240.41b1cc88.js"><link rel="prefetch" href="/AuroraY/assets/js/242.af7b2d56.js"><link rel="prefetch" href="/AuroraY/assets/js/243.5d3253f5.js"><link rel="prefetch" href="/AuroraY/assets/js/244.6a12f675.js"><link rel="prefetch" href="/AuroraY/assets/js/245.626680da.js"><link rel="prefetch" href="/AuroraY/assets/js/246.32a5a4ed.js"><link rel="prefetch" href="/AuroraY/assets/js/247.b7ba65b6.js"><link rel="prefetch" href="/AuroraY/assets/js/248.bb3b096a.js"><link rel="prefetch" href="/AuroraY/assets/js/249.6f5aa484.js"><link rel="prefetch" href="/AuroraY/assets/js/25.dec20d17.js"><link rel="prefetch" href="/AuroraY/assets/js/250.f018cac0.js"><link rel="prefetch" href="/AuroraY/assets/js/251.67098c03.js"><link rel="prefetch" href="/AuroraY/assets/js/252.5823e5be.js"><link rel="prefetch" href="/AuroraY/assets/js/253.0a47b5f0.js"><link rel="prefetch" href="/AuroraY/assets/js/254.30d4f8b2.js"><link rel="prefetch" href="/AuroraY/assets/js/255.8c213fc0.js"><link rel="prefetch" href="/AuroraY/assets/js/256.6373a8dc.js"><link rel="prefetch" href="/AuroraY/assets/js/257.c359b22e.js"><link rel="prefetch" href="/AuroraY/assets/js/258.3a96d5bf.js"><link rel="prefetch" href="/AuroraY/assets/js/259.aa632f8a.js"><link rel="prefetch" href="/AuroraY/assets/js/26.dad416ee.js"><link rel="prefetch" href="/AuroraY/assets/js/260.fd912a36.js"><link rel="prefetch" href="/AuroraY/assets/js/261.8de06d26.js"><link rel="prefetch" href="/AuroraY/assets/js/262.a4781eb5.js"><link rel="prefetch" href="/AuroraY/assets/js/263.4fe831f6.js"><link rel="prefetch" href="/AuroraY/assets/js/264.c9723d39.js"><link rel="prefetch" href="/AuroraY/assets/js/265.ff89b80d.js"><link rel="prefetch" href="/AuroraY/assets/js/266.a7ca1940.js"><link rel="prefetch" href="/AuroraY/assets/js/267.1f1f956c.js"><link rel="prefetch" href="/AuroraY/assets/js/268.18b4d51a.js"><link rel="prefetch" href="/AuroraY/assets/js/269.17983e6d.js"><link rel="prefetch" href="/AuroraY/assets/js/27.0d3eeb1c.js"><link rel="prefetch" href="/AuroraY/assets/js/270.2256ed4b.js"><link rel="prefetch" href="/AuroraY/assets/js/271.26f0d98f.js"><link rel="prefetch" href="/AuroraY/assets/js/272.fc9c38b1.js"><link rel="prefetch" href="/AuroraY/assets/js/273.292982e4.js"><link rel="prefetch" href="/AuroraY/assets/js/274.ef108c7d.js"><link rel="prefetch" href="/AuroraY/assets/js/275.21729818.js"><link rel="prefetch" href="/AuroraY/assets/js/276.dadb3238.js"><link rel="prefetch" href="/AuroraY/assets/js/277.92f62237.js"><link rel="prefetch" href="/AuroraY/assets/js/278.7be2f559.js"><link rel="prefetch" href="/AuroraY/assets/js/279.a4721862.js"><link rel="prefetch" href="/AuroraY/assets/js/28.037ed440.js"><link rel="prefetch" href="/AuroraY/assets/js/280.30869ac2.js"><link rel="prefetch" href="/AuroraY/assets/js/281.9fc98cfc.js"><link rel="prefetch" href="/AuroraY/assets/js/282.6af7685a.js"><link rel="prefetch" href="/AuroraY/assets/js/283.4b95e456.js"><link rel="prefetch" href="/AuroraY/assets/js/284.630ea7be.js"><link rel="prefetch" href="/AuroraY/assets/js/285.6535b6b3.js"><link rel="prefetch" href="/AuroraY/assets/js/286.6c567c36.js"><link rel="prefetch" href="/AuroraY/assets/js/287.960dafbc.js"><link rel="prefetch" href="/AuroraY/assets/js/288.da54674b.js"><link rel="prefetch" href="/AuroraY/assets/js/289.c4c5020b.js"><link rel="prefetch" href="/AuroraY/assets/js/29.e52a9d90.js"><link rel="prefetch" href="/AuroraY/assets/js/290.877288a5.js"><link rel="prefetch" href="/AuroraY/assets/js/291.0c804835.js"><link rel="prefetch" href="/AuroraY/assets/js/292.61d1a4cc.js"><link rel="prefetch" href="/AuroraY/assets/js/293.98adadf7.js"><link rel="prefetch" href="/AuroraY/assets/js/294.e3275ed2.js"><link rel="prefetch" href="/AuroraY/assets/js/295.65f953ce.js"><link rel="prefetch" href="/AuroraY/assets/js/296.aac4c357.js"><link rel="prefetch" href="/AuroraY/assets/js/297.58521920.js"><link rel="prefetch" href="/AuroraY/assets/js/298.34420af5.js"><link rel="prefetch" href="/AuroraY/assets/js/299.99a04036.js"><link rel="prefetch" href="/AuroraY/assets/js/30.5236c1bc.js"><link rel="prefetch" href="/AuroraY/assets/js/300.8e7035b2.js"><link rel="prefetch" href="/AuroraY/assets/js/301.1f59abe3.js"><link rel="prefetch" href="/AuroraY/assets/js/302.9c2e12de.js"><link rel="prefetch" href="/AuroraY/assets/js/303.3101613e.js"><link rel="prefetch" href="/AuroraY/assets/js/304.d747fa3d.js"><link rel="prefetch" href="/AuroraY/assets/js/305.ac64231c.js"><link rel="prefetch" href="/AuroraY/assets/js/306.fdd2a054.js"><link rel="prefetch" href="/AuroraY/assets/js/307.66a1f228.js"><link rel="prefetch" href="/AuroraY/assets/js/308.c5c0f21d.js"><link rel="prefetch" href="/AuroraY/assets/js/309.2546474c.js"><link rel="prefetch" href="/AuroraY/assets/js/31.47ca8aab.js"><link rel="prefetch" href="/AuroraY/assets/js/310.3207d006.js"><link rel="prefetch" href="/AuroraY/assets/js/311.be0ed504.js"><link rel="prefetch" href="/AuroraY/assets/js/312.a899c0dd.js"><link rel="prefetch" href="/AuroraY/assets/js/313.15e323fb.js"><link rel="prefetch" href="/AuroraY/assets/js/314.b3bb6c9a.js"><link rel="prefetch" href="/AuroraY/assets/js/315.b703e232.js"><link rel="prefetch" href="/AuroraY/assets/js/316.1441cf8a.js"><link rel="prefetch" href="/AuroraY/assets/js/317.55fa9cd9.js"><link rel="prefetch" href="/AuroraY/assets/js/318.e451c91d.js"><link rel="prefetch" href="/AuroraY/assets/js/319.ebc0bb99.js"><link rel="prefetch" href="/AuroraY/assets/js/32.a7a02a99.js"><link rel="prefetch" href="/AuroraY/assets/js/320.24534f8b.js"><link rel="prefetch" href="/AuroraY/assets/js/321.c951fc15.js"><link rel="prefetch" href="/AuroraY/assets/js/322.bc5d6ad0.js"><link rel="prefetch" href="/AuroraY/assets/js/323.d1fcc01a.js"><link rel="prefetch" href="/AuroraY/assets/js/324.4cd8cdf5.js"><link rel="prefetch" href="/AuroraY/assets/js/325.9b319f7e.js"><link rel="prefetch" href="/AuroraY/assets/js/326.5a12d15c.js"><link rel="prefetch" href="/AuroraY/assets/js/33.65976515.js"><link rel="prefetch" href="/AuroraY/assets/js/34.2da58a6a.js"><link rel="prefetch" href="/AuroraY/assets/js/35.5284e75e.js"><link rel="prefetch" href="/AuroraY/assets/js/36.446ea69b.js"><link rel="prefetch" href="/AuroraY/assets/js/37.6170733e.js"><link rel="prefetch" href="/AuroraY/assets/js/38.4e800202.js"><link rel="prefetch" href="/AuroraY/assets/js/39.a2701631.js"><link rel="prefetch" href="/AuroraY/assets/js/4.10543b34.js"><link rel="prefetch" href="/AuroraY/assets/js/40.91825b2a.js"><link rel="prefetch" href="/AuroraY/assets/js/41.0919a15d.js"><link rel="prefetch" href="/AuroraY/assets/js/42.d3cb5470.js"><link rel="prefetch" href="/AuroraY/assets/js/43.8d9628cf.js"><link rel="prefetch" href="/AuroraY/assets/js/44.0a1f5dba.js"><link rel="prefetch" href="/AuroraY/assets/js/45.3d87a4b6.js"><link rel="prefetch" href="/AuroraY/assets/js/46.37e12ab9.js"><link rel="prefetch" href="/AuroraY/assets/js/47.38ff02ed.js"><link rel="prefetch" href="/AuroraY/assets/js/48.341f8b96.js"><link rel="prefetch" href="/AuroraY/assets/js/49.4d4a3a3d.js"><link rel="prefetch" href="/AuroraY/assets/js/5.d0f450bd.js"><link rel="prefetch" href="/AuroraY/assets/js/50.824f3f58.js"><link rel="prefetch" href="/AuroraY/assets/js/51.9798701c.js"><link rel="prefetch" href="/AuroraY/assets/js/52.36dab00b.js"><link rel="prefetch" href="/AuroraY/assets/js/53.013ae7b5.js"><link rel="prefetch" href="/AuroraY/assets/js/54.cf557dbb.js"><link rel="prefetch" href="/AuroraY/assets/js/55.96577d71.js"><link rel="prefetch" href="/AuroraY/assets/js/56.884528f9.js"><link rel="prefetch" href="/AuroraY/assets/js/57.0881041d.js"><link rel="prefetch" href="/AuroraY/assets/js/58.99d57a61.js"><link rel="prefetch" href="/AuroraY/assets/js/59.07a6d226.js"><link rel="prefetch" href="/AuroraY/assets/js/6.24060e60.js"><link rel="prefetch" href="/AuroraY/assets/js/60.5a8ce582.js"><link rel="prefetch" href="/AuroraY/assets/js/61.b89fe597.js"><link rel="prefetch" href="/AuroraY/assets/js/62.d12d1eb3.js"><link rel="prefetch" href="/AuroraY/assets/js/63.02beedbd.js"><link rel="prefetch" href="/AuroraY/assets/js/64.fd4afa11.js"><link rel="prefetch" href="/AuroraY/assets/js/65.164fc2bc.js"><link rel="prefetch" href="/AuroraY/assets/js/66.c45ff28e.js"><link rel="prefetch" href="/AuroraY/assets/js/67.bfefbd58.js"><link rel="prefetch" href="/AuroraY/assets/js/68.5c8e90cc.js"><link rel="prefetch" href="/AuroraY/assets/js/69.601a2545.js"><link rel="prefetch" href="/AuroraY/assets/js/7.b8bf6b3f.js"><link rel="prefetch" href="/AuroraY/assets/js/70.d4165160.js"><link rel="prefetch" href="/AuroraY/assets/js/71.6b62a42e.js"><link rel="prefetch" href="/AuroraY/assets/js/72.d5adf400.js"><link rel="prefetch" href="/AuroraY/assets/js/73.a451faab.js"><link rel="prefetch" href="/AuroraY/assets/js/74.1f69da13.js"><link rel="prefetch" href="/AuroraY/assets/js/75.79f719c2.js"><link rel="prefetch" href="/AuroraY/assets/js/76.e91a34d6.js"><link rel="prefetch" href="/AuroraY/assets/js/77.8a54c93b.js"><link rel="prefetch" href="/AuroraY/assets/js/78.f3b679df.js"><link rel="prefetch" href="/AuroraY/assets/js/79.c45a0cc3.js"><link rel="prefetch" href="/AuroraY/assets/js/8.024a3703.js"><link rel="prefetch" href="/AuroraY/assets/js/80.b88ba475.js"><link rel="prefetch" href="/AuroraY/assets/js/81.84ecd33a.js"><link rel="prefetch" href="/AuroraY/assets/js/82.7cec0474.js"><link rel="prefetch" href="/AuroraY/assets/js/83.4df30727.js"><link rel="prefetch" href="/AuroraY/assets/js/84.5145ef99.js"><link rel="prefetch" href="/AuroraY/assets/js/85.3c43eaec.js"><link rel="prefetch" href="/AuroraY/assets/js/86.9e50182a.js"><link rel="prefetch" href="/AuroraY/assets/js/87.5b4d35d5.js"><link rel="prefetch" href="/AuroraY/assets/js/88.600b2da4.js"><link rel="prefetch" href="/AuroraY/assets/js/89.3be70996.js"><link rel="prefetch" href="/AuroraY/assets/js/9.468ed296.js"><link rel="prefetch" href="/AuroraY/assets/js/90.6ee50de2.js"><link rel="prefetch" href="/AuroraY/assets/js/91.e48e4e35.js"><link rel="prefetch" href="/AuroraY/assets/js/92.6526a880.js"><link rel="prefetch" href="/AuroraY/assets/js/93.64e551f3.js"><link rel="prefetch" href="/AuroraY/assets/js/94.f2829f16.js"><link rel="prefetch" href="/AuroraY/assets/js/95.4474d6d7.js"><link rel="prefetch" href="/AuroraY/assets/js/96.f704381d.js"><link rel="prefetch" href="/AuroraY/assets/js/97.ff7472f0.js"><link rel="prefetch" href="/AuroraY/assets/js/98.47343a38.js"><link rel="prefetch" href="/AuroraY/assets/js/99.caceb873.js">
    <link rel="stylesheet" href="/AuroraY/assets/css/0.styles.434c7a90.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-11f94078><div data-v-11f94078><div class="password-shadow password-wrapper-out" style="display:none;" data-v-08f61db9 data-v-11f94078 data-v-11f94078><h3 class="title" data-v-08f61db9>Auraro's Blog</h3> <p class="description" data-v-08f61db9>面向对象面向君，不负代码不负卿。</p> <label id="box" class="inputBox" data-v-08f61db9><input type="password" value="" data-v-08f61db9> <span data-v-08f61db9>Konck! Knock!</span> <button data-v-08f61db9>OK</button></label> <div class="footer" data-v-08f61db9><span data-v-08f61db9><i class="iconfont reco-theme" data-v-08f61db9></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-08f61db9>vuePress-theme-reco</a></span> <span data-v-08f61db9><i class="iconfont reco-copyright" data-v-08f61db9></i> <a data-v-08f61db9><span data-v-08f61db9>AuraroJ</span>
          
        <span data-v-08f61db9>2022 - </span>
        2023
      </a></span></div></div> <div class="hide" data-v-11f94078><header class="navbar" data-v-11f94078><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/AuroraY/" class="home-link router-link-active"><img src="/AuroraY/logo.png" alt="Auraro's Blog" class="logo"> <span class="site-name">Auraro's Blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/AuroraY/" class="nav-link"><i class="iconfont reco-home"></i>
  随性一点的主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/AuroraY/随笔/me.html" class="nav-link"><i class="undefined"></i>
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/面经/" class="nav-link"><i class="undefined"></i>
  面经
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/network/浏览器输入url过程.html" class="nav-link"><i class="undefined"></i>
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/Os/段式存储和页式存储.html" class="nav-link"><i class="undefined"></i>
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/中间件/" class="nav-link"><i class="undefined"></i>
  中间件
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/Java-框架/" class="nav-link"><i class="undefined"></i>
  Java框架
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/Linux/常见面试题.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/BigData/分布式ID生成器.html" class="nav-link"><i class="undefined"></i>
  大数据
</a></li></ul></div></div><div class="nav-item"><a href="/AuroraY/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  随笔标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      项目
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>底层项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/AuroraY/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.830 JAVA
</a></li><li class="dropdown-subitem"><a href="/AuroraY/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.s081 C
</a></li><li class="dropdown-subitem"><a href="/AuroraY/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.824 GO
</a></li></ul></li><li class="dropdown-item"><h4>游戏项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/AuroraY/项目/" class="nav-link"><i class="undefined"></i>
  AI对抗平台 JAVA
</a></li></ul></li><li class="dropdown-item"><h4>合作项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/AuroraY/项目/" class="nav-link"><i class="undefined"></i>
  仿北邮人论坛 JAVA
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      算法
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/AuroraY/LeetCode/" class="nav-link"><i class="undefined"></i>
  算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      人工智能
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/AuroraY/论文/" class="nav-link"><i class="undefined"></i>
  漏洞检测
</a></li></ul></div></div><div class="nav-item"><a href="/AuroraY/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  归档
</a></div><div class="nav-item"><a href="https://github.com/AlwaysWillWJYY" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/AuroraY/aboutme.html" class="nav-link"><i class="iconfont reco-account"></i>
  关于
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-11f94078></div> <aside class="sidebar" data-v-11f94078><div class="personal-info-wrapper" data-v-3d87d2e4 data-v-11f94078><img src="/AuroraY/logo.png" alt="author-avatar" class="personal-img" data-v-3d87d2e4> <h3 class="name" data-v-3d87d2e4>
    AuraroJ
  </h3> <div class="num" data-v-3d87d2e4><div data-v-3d87d2e4><h3 data-v-3d87d2e4>72</h3> <h6 data-v-3d87d2e4>文章</h6></div> <div data-v-3d87d2e4><h3 data-v-3d87d2e4>30</h3> <h6 data-v-3d87d2e4>标签</h6></div></div> <ul class="social-links" data-v-3d87d2e4></ul> <hr data-v-3d87d2e4></div> <nav class="nav-links"><div class="nav-item"><a href="/AuroraY/" class="nav-link"><i class="iconfont reco-home"></i>
  随性一点的主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/AuroraY/随笔/me.html" class="nav-link"><i class="undefined"></i>
  随笔
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/面经/" class="nav-link"><i class="undefined"></i>
  面经
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/network/浏览器输入url过程.html" class="nav-link"><i class="undefined"></i>
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/Os/段式存储和页式存储.html" class="nav-link"><i class="undefined"></i>
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/中间件/" class="nav-link"><i class="undefined"></i>
  中间件
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/Java/" class="nav-link"><i class="undefined"></i>
  Java
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/Java-框架/" class="nav-link"><i class="undefined"></i>
  Java框架
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/Linux/常见面试题.html" class="nav-link"><i class="undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/AuroraY/BigData/分布式ID生成器.html" class="nav-link"><i class="undefined"></i>
  大数据
</a></li></ul></div></div><div class="nav-item"><a href="/AuroraY/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  随笔标签
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      项目
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>底层项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/AuroraY/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.830 JAVA
</a></li><li class="dropdown-subitem"><a href="/AuroraY/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.s081 C
</a></li><li class="dropdown-subitem"><a href="/AuroraY/项目/" class="nav-link"><i class="undefined"></i>
  MIT6.824 GO
</a></li></ul></li><li class="dropdown-item"><h4>游戏项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/AuroraY/项目/" class="nav-link"><i class="undefined"></i>
  AI对抗平台 JAVA
</a></li></ul></li><li class="dropdown-item"><h4>合作项目</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/AuroraY/项目/" class="nav-link"><i class="undefined"></i>
  仿北邮人论坛 JAVA
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      算法
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/AuroraY/LeetCode/" class="nav-link"><i class="undefined"></i>
  算法
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-document"></i>
      人工智能
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/AuroraY/论文/" class="nav-link"><i class="undefined"></i>
  漏洞检测
</a></li></ul></div></div><div class="nav-item"><a href="/AuroraY/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  归档
</a></div><div class="nav-item"><a href="https://github.com/AlwaysWillWJYY" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/AuroraY/aboutme.html" class="nav-link"><i class="iconfont reco-account"></i>
  关于
</a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>数据库</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>SQL语句</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/AuroraY/中间件/数据库/常考sql.html" class="sidebar-link">常考Sql</a></li><li><a href="/AuroraY/中间件/数据库/Drop-truncnte.html" class="sidebar-link">Drop-truncnte</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>索引，日志和锁</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Docker</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>ElasticSearch</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>kafka</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Redis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Zookeeper</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-08f61db9 data-v-11f94078><h3 class="title" data-v-08f61db9></h3> <!----> <label id="box" class="inputBox" data-v-08f61db9><input type="password" value="" data-v-08f61db9> <span data-v-08f61db9>Konck! Knock!</span> <button data-v-08f61db9>OK</button></label> <div class="footer" data-v-08f61db9><span data-v-08f61db9><i class="iconfont reco-theme" data-v-08f61db9></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-08f61db9>vuePress-theme-reco</a></span> <span data-v-08f61db9><i class="iconfont reco-copyright" data-v-08f61db9></i> <a data-v-08f61db9><span data-v-08f61db9>AuraroJ</span>
          
        <span data-v-08f61db9>2022 - </span>
        2023
      </a></span></div></div> <div data-v-11f94078><div data-v-11f94078><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">说说你对kafka的理解</h1> <div data-v-162cc157><i class="iconfont reco-account" data-v-162cc157><span data-v-162cc157>AuraroJ</span></i> <!----> <i class="iconfont reco-eye" data-v-162cc157><span id="/AuroraY/%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/Kafka%E6%80%BB%E7%BB%93.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-162cc157><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="说说你对kafka的理解"><a href="#说说你对kafka的理解" class="header-anchor">#</a> 说说你对kafka的理解</h2> <p>kafka是一个流式数据处理平台，他具有消息系统的能力，也有实时流式数据处理分析能力，只是我们更多的偏向于把他当做消息队列系统来使用。</p> <p>如果说按照容易理解来分层的话，大致可以分为3层：</p> <p>第一层是<strong>Zookeeper</strong>，相当于注册中心，他负责kafka集群元数据的管理，以及集群的协调工作，在每个kafka服务器启动的时候去连接到Zookeeper，把自己注册到Zookeeper当中</p> <p>第二层里是kafka的核心层，这里就会包含很多kafka的基本概念在内：</p> <p><strong>record</strong>：代表消息</p> <p><strong>topic</strong>：主题，消息都会由一个主题方式来组织，可以理解为对于消息的一个分类</p> <p><strong>producer</strong>：生产者，负责发送消息</p> <p><strong>consumer</strong>：消费者，负责消费消息</p> <p><strong>broker</strong>：kafka服务器</p> <p><strong>partition</strong>：分区，主题会由多个分区组成，通常每个分区的消息都是按照顺序读取的，不同的分区无法保证顺序性，分区也就是我们常说的数据分片sharding机制，主要目的就是为了提高系统的伸缩能力，通过分区，消息的读写可以负载均衡到多个不同的节点上</p> <p><strong>Leader/Follower</strong>：分区的副本。为了保证高可用，分区都会有一些副本，每个分区都会有一个Leader主副本负责读写数据，Follower从副本只负责和Leader副本保持数据同步，不对外提供任何服务</p> <p><strong>offset</strong>：偏移量，分区中的每一条消息都会根据时间先后顺序有一个递增的序号，这个序号就是offset偏移量</p> <p><strong>Consumer group</strong>：消费者组，由多个消费者组成，一个组内只会由一个消费者去消费一个分区的消息</p> <p><strong>Coordinator</strong>：协调者，主要是为消费者组分配分区以及重平衡Rebalance操作</p> <p><strong>Controller</strong>：控制器，其实就是一个broker而已，用于协调和管理整个Kafka集群，他会负责分区Leader选举、主题管理等工作，在Zookeeper第一个创建临时节点/controller的就会成为控制器</p> <p>第三层则是存储层，用来保存kafka的核心数据，他们都会以日志的形式最终写入磁盘中。</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ibBMVuDfkZUkGTrS4o7dp9ONqkuQQ6Kr9uI83AibbE0k5icKprnWKsAicyJ5gUGPSVoK4WXAT808pKOlc5a2RT7fhQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <h2 id="消息队列模型知道吗-kafka是怎么做到支持这两种模型的"><a href="#消息队列模型知道吗-kafka是怎么做到支持这两种模型的" class="header-anchor">#</a> 消息队列模型知道吗？kafka是怎么做到支持这两种模型的？</h2> <p>对于传统的消息队列系统支持两个模型：</p> <ol><li>点对点：也就是消息只能被一个消费者消费，消费完后消息删除</li> <li>发布订阅：相当于广播模式，消息可以被所有消费者消费</li></ol> <p>上面也说到过，kafka其实就是通过Consumer Group同时支持了这两个模型。</p> <p>如果说所有消费者都属于一个Group，消息只能被同一个Group内的一个消费者消费，那就是点对点模式。</p> <p>如果每个消费者都是一个单独的Group，那么就是发布订阅模式。</p> <p>实际上，Kafka通过消费者分组的方式灵活的支持了这两个模型。</p> <h2 id="能说说kafka通信过程原理吗"><a href="#能说说kafka通信过程原理吗" class="header-anchor">#</a> 能说说kafka通信过程原理吗？</h2> <ol><li>首先kafka broker启动的时候，会去向Zookeeper注册自己的ID（创建临时节点），这个ID可以配置也可以自动生成，同时会去订阅Zookeeper的<code>brokers/ids</code>路径，当有新的broker加入或者退出时，可以得到当前所有broker信息</li> <li>生产者启动的时候会指定<code>bootstrap.servers</code>，通过指定的broker地址，Kafka就会和这些broker创建TCP连接（通常我们不用配置所有的broker服务器地址，否则kafka会和配置的所有broker都建立TCP连接）</li> <li>随便连接到任何一台broker之后，然后再发送请求获取元数据信息（包含有哪些主题、主题都有哪些分区、分区有哪些副本，分区的Leader副本等信息）</li> <li>接着就会创建和所有broker的TCP连接</li> <li>之后就是发送消息的过程</li> <li>消费者和生产者一样，也会指定<code>bootstrap.servers</code>属性，然后选择一台broker创建TCP连接，发送请求找到<strong>协调者</strong>所在的broker</li> <li>然后再和协调者broker创建TCP连接，获取元数据</li> <li>根据分区Leader节点所在的broker节点，和这些broker分别创建连接</li> <li>最后开始消费消息</li></ol> <p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ibBMVuDfkZUkGTrS4o7dp9ONqkuQQ6Kr9fHysciaghG1XMyfNwGTfRD3zxEW8QSglZtc5jz6tU85Ge7pD3b8M1aA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <h2 id="那么发送消息时如何选择分区的"><a href="#那么发送消息时如何选择分区的" class="header-anchor">#</a> 那么发送消息时如何选择分区的？</h2> <p>主要有两种方式：</p> <ol><li>轮询，按照顺序消息依次发送到不同的分区</li> <li>随机，随机发送到某个分区</li></ol> <p>如果消息指定key，那么会根据消息的key进行hash，然后对partition分区数量取模，决定落在哪个分区上，所以，对于相同key的消息来说，总是会发送到同一个分区上，也是我们常说的消息分区有序性。</p> <p>很常见的场景就是我们希望下单、支付消息有顺序，这样以订单ID作为key发送消息就达到了分区有序性的目的。</p> <p>如果没有指定key，会执行默认的轮询负载均衡策略，比如第一条消息落在P0，第二条消息落在P1，然后第三条又在P1。</p> <p>除此之外，对于一些特定的业务场景和需求，还可以通过实现<code>Partitioner</code>接口，重写<code>configure</code>和<code>partition</code>方法来达到自定义分区的效果。</p> <h2 id="好-那你觉得为什么需要分区-有什么好处"><a href="#好-那你觉得为什么需要分区-有什么好处" class="header-anchor">#</a> 好，那你觉得为什么需要分区？有什么好处？</h2> <p>这个问题很简单，如果说不分区的话，我们发消息写数据都只能保存到一个节点上，这样的话就算这个服务器节点性能再好最终也支撑不住。</p> <p>实际上分布式系统都面临这个问题，要么收到消息之后进行数据切分，要么提前切分，kafka正是选择了前者，通过分区可以把数据均匀地分布到不同的节点。</p> <p>分区带来了负载均衡和横向扩展的能力。</p> <p>发送消息时可以根据分区的数量落在不同的Kafka服务器节点上，提升了并发写消息的性能，消费消息的时候又和消费者绑定了关系，可以从不同节点的不同分区消费消息，提高了读消息的能力。</p> <p>另外一个就是分区又引入了副本，冗余的副本保证了Kafka的高可用和高持久性。</p> <h2 id="详细说说消费者组和消费者重平衡"><a href="#详细说说消费者组和消费者重平衡" class="header-anchor">#</a> 详细说说消费者组和消费者重平衡？</h2> <p>Kafka中的消费者组订阅topic主题的消息，一般来说消费者的数量最好要和所有主题分区的数量保持一致最好（举例子用一个主题，实际上当然是可以订阅多个主题）。</p> <p>当消费者数量小于分区数量的时候，那么必然会有一个消费者消费多个分区的消息。</p> <p>而消费者数量超过分区的数量的时候，那么必然会有消费者没有分区可以消费。</p> <p>所以，消费者组的好处一方面在上面说到过，可以支持多种消息模型，另外的话根据消费者和分区的消费关系，支撑横向扩容伸缩。</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ibBMVuDfkZUkGTrS4o7dp9ONqkuQQ6Kr9JC57jxiaNZG9VMQ59HvibXrtLzOEtWkz06QZAHzRRicqCe2OfFN0fc2Dg/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <p>当我们知道消费者如何消费分区的时候，就显然会有一个问题出现了，消费者消费的分区是怎么分配的，有先加入的消费者时候怎么办？</p> <p>旧版本的重平衡过程主要通过ZK监听器的方式来触发，每个消费者客户端自己去执行分区分配算法。</p> <p>新版本则是通过协调者来完成，每一次新的消费者加入都会发送请求给<strong>协调者</strong>去获取分区的分配，这个分区分配的算法逻辑由协调者来完成。</p> <p>而重平衡Rebalance就是指的有新消费者加入的情况，比如刚开始我们只有消费者A在消费消息，过了一段时间消费者B和C加入了，这时候分区就需要重新分配，这就是重平衡，也可以叫做再平衡，但是重平衡的过程和我们的GC时候STW很像，会导致整个消费群组停止工作，重平衡期间都无法消息消息。</p> <p>另外，发生重平衡并不是只有这一种情况，因为消费者和分区总数是存在绑定关系的，上面也说了，消费者数量最好和所有主题的分区总数一样。</p> <p>那只要<strong>消费者数量</strong>、<strong>主题数量</strong>（比如用的正则订阅的主题）、<strong>分区数量</strong>任何一个发生改变，都会触发重平衡。</p> <p>下面说说重平衡的过程。</p> <p>重平衡的机制依赖消费者和协调者之间的心跳来维持，消费者会有一个独立的线程去定时发送心跳给协调者，这个可以通过参数<code>heartbeat.interval.ms</code>来控制发送心跳的间隔时间。</p> <ol><li>每个消费者第一次加入组的时候都会向协调者发送<code>JoinGroup</code>请求，第一个发送这个请求的消费者会成为“群主”，协调者会返回组成员列表给群主</li> <li>群主执行分区分配策略，然后把分配结果通过<code>SyncGroup</code>请求发送给协调者，协调者收到分区分配结果</li> <li>其他组内成员也向协调者发送<code>SyncGroup</code>，协调者把每个消费者的分区分配分别响应给他们</li></ol> <p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ibBMVuDfkZUkGTrS4o7dp9ONqkuQQ6Kr9Uv4dntafaiaoibem9iatx3l08cdfsryrpDwaw9wAsg0ictJqAm9GuiaxerQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <h2 id="那你跟我再具体讲讲分区分配策略"><a href="#那你跟我再具体讲讲分区分配策略" class="header-anchor">#</a> 那你跟我再具体讲讲分区分配策略？</h2> <p>主要有3种分配策略：</p> <p><strong>Range</strong></p> <p>不知道咋翻译，这个是默认的策略。大概意思就是对分区进行排序，排序越靠前的分区能够分配到更多的分区。</p> <p>比如有3个分区，消费者A排序更靠前，所以能够分配到P0\P1两个分区，消费者B就只能分配到一个P2。</p> <p>如果是4个分区的话，那么他们会刚好都是分配到2个。</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ibBMVuDfkZUkGTrS4o7dp9ONqkuQQ6Kr9ZdWWibaACiaW3vgID1UwSpgkVKxRQiatEmA3moEc0hGGgjgeCSOjNYaSw/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <p>但是这个分配策略会有点小问题，他是根据主题进行分配，所以如果消费者组订阅了多个主题，那就有可能导致分区分配不均衡。</p> <p>比如下图中两个主题的P0\P1都被分配给了A，这样A有4个分区，而B只有2个，如果这样的主题数量越多，那么不均衡就越严重。</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ibBMVuDfkZUkGTrS4o7dp9ONqkuQQ6Kr9X81Cqviag3zbqyz9Agtqiacyyw71qg3QhV7ocn3bnFYD87sLiaaRmdPHQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <p><strong>RoundRobin</strong></p> <p>也就是我们常说的轮询了，这个就比较简单了，不画图你也能很容易理解。</p> <p>这个会根据所有的主题进行轮询分配，不会出现Range那种主题越多可能导致分区分配不均衡的问题。</p> <p>P0-&gt;A，P1-&gt;B，P1-&gt;A。。。以此类推</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ibBMVuDfkZUkGTrS4o7dp9ONqkuQQ6Kr9jzL1SstoAmIlRU2tMrtpTYaK9jYgqXqwNfyxdQuDKmQ6gPPibSdTgfQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <p><strong>Sticky</strong></p> <p>这个从字面看来意思就是粘性策略，大概是这个意思。主要考虑的是在分配均衡的前提下，让分区的分配更小的改动。</p> <p>比如之前P0\P1分配给消费者A，那么下一次尽量还是分配给A。</p> <p>这样的好处就是连接可以复用，要消费消息总是要和broker去连接的，如果能够保持上一次分配的分区的话，那么就不用频繁的销毁创建连接了。</p> <h2 id="来吧-如何保证消息可靠性"><a href="#来吧-如何保证消息可靠性" class="header-anchor">#</a> 来吧！如何保证消息可靠性？</h2> <p>消息可靠性的保证基本上我们都要从3个方面来阐述（这样才比较全面，无懈可击）</p> <p><strong>生产者发送消息丢失</strong></p> <p>kafka支持3种方式发送消息，这也是常规的3种方式，发送后不管结果、同步发送、异步发送，基本上所有的消息队列都是这样玩的。</p> <ol><li>发送并忘记，直接调用发送send方法，不管结果，虽然可以开启自动重试，但是肯定会有消息丢失的可能</li> <li>同步发送，同步发送返回Future对象，我们可以知道发送结果，然后进行处理</li> <li>异步发送，发送消息，同时指定一个回调函数，根据结果进行相应的处理</li></ol> <p>为了保险起见，一般我们都会使用异步发送带有回调的方式进行发送消息，再设置参数为发送消息失败不停地重试。</p> <p><code>acks=all</code>，这个参数有可以配置0|1|all。</p> <p>0表示生产者写入消息不管服务器的响应，可能消息还在网络缓冲区，服务器根本没有收到消息，当然会丢失消息。</p> <p>1表示至少有一个副本收到消息才认为成功，一个副本那肯定就是集群的Leader副本了，但是如果刚好Leader副本所在的节点挂了，Follower没有同步这条消息，消息仍然丢失了。</p> <p>配置all的话表示所有ISR都写入成功才算成功，那除非所有ISR里的副本全挂了，消息才会丢失。</p> <p><code>retries=N</code>，设置一个非常大的值，可以让生产者发送消息失败后不停重试</p> <p><strong>kafka自身消息丢失</strong></p> <p>kafka因为消息写入是通过PageCache异步写入磁盘的，因此仍然存在丢失消息的可能。</p> <p>因此针对kafka自身丢失的可能设置参数：</p> <p><code>replication.factor=N</code>，设置一个比较大的值，保证至少有2个或者以上的副本。</p> <p><code>min.insync.replicas=N</code>，代表消息如何才能被认为是写入成功，设置大于1的数，保证至少写入1个或者以上的副本才算写入消息成功。</p> <p><code>unclean.leader.election.enable=false</code>，这个设置意味着没有完全同步的分区副本不能成为Leader副本，如果是<code>true</code>的话，那些没有完全同步Leader的副本成为Leader之后，就会有消息丢失的风险。</p> <p><strong>消费者消息丢失</strong></p> <p>消费者丢失的可能就比较简单，关闭自动提交位移即可，改为业务处理成功手动提交。</p> <p>因为重平衡发生的时候，消费者会去读取上一次提交的偏移量，自动提交默认是每5秒一次，这会导致重复消费或者丢失消息。</p> <p><code>enable.auto.commit=false</code>，设置为手动提交。</p> <p>还有一个参数我们可能也需要考虑进去的：</p> <p><code>auto.offset.reset=earliest</code>，这个参数代表没有偏移量可以提交或者broker上不存在偏移量的时候，消费者如何处理。<code>earliest</code>代表从分区的开始位置读取，可能会重复读取消息，但是不会丢失，消费方一般我们肯定要自己保证幂等，另外一种<code>latest</code>表示从分区末尾读取，那就会有概率丢失消息。</p> <p>综合这几个参数设置，我们就能保证消息不会丢失，保证了可靠性。</p> <h2 id="ok-聊聊副本和它的同步原理吧"><a href="#ok-聊聊副本和它的同步原理吧" class="header-anchor">#</a> OK，聊聊副本和它的同步原理吧？</h2> <p>Kafka副本的之前提到过，分为Leader副本和Follower副本，也就是主副本和从副本，和其他的比如Mysql不一样的是，Kafka中只有Leader副本会对外提供服务，Follower副本只是单纯地和Leader保持数据同步，作为数据冗余容灾的作用。</p> <p>在Kafka中我们把所有副本的集合统称为<strong>AR（Assigned Replicas）</strong>，和Leader副本保持同步的副本集合称为<strong>ISR（InSyncReplicas）</strong>。</p> <p>ISR是一个动态的集合，维持这个集合会通过<code>replica.lag.time.max.ms</code>参数来控制，这个代表落后Leader副本的最长时间，默认值10秒，所以只要Follower副本没有落后Leader副本超过10秒以上，就可以认为是和Leader同步的（简单可以认为就是同步时间差）。</p> <p>另外还有两个关键的概念用于副本之间的同步：</p> <p><strong>HW（High Watermark）</strong>：高水位，也叫做复制点，表示副本间同步的位置。如下图所示，0~4绿色表示已经提交的消息，这些消息已经在副本之间进行同步，消费者可以看见这些消息并且进行消费，4~6黄色的则是表示未提交的消息，可能还没有在副本间同步，这些消息对于消费者是不可见的。</p> <p><strong>LEO（Log End Offset）</strong>：下一条待写入消息的位移</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ibBMVuDfkZUkGTrS4o7dp9ONqkuQQ6Kr95iaoKUpicib7RGiaw1xqo6ibuBkZyKiaVnqAicyuibiajIic3oVia69aQX6KygrKA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">hw</p> <p>副本间同步的过程依赖的就是HW和LEO的更新，以他们的值变化来演示副本同步消息的过程，绿色表示Leader副本，黄色表示Follower副本。</p> <p>首先，生产者不停地向Leader写入数据，这时候Leader的LEO可能已经达到了10，但是HW依然是0，两个Follower向Leader请求同步数据，他们的值都是0。</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ibBMVuDfkZUkGTrS4o7dp9ONqkuQQ6Kr9YhnaYNGQSr13OPGYe3rDHQiakdfQN1ibWDuAtH8oTJpJDsqCTUuU3Ybw/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <p>然后，消息还在继续写入，Leader的LEO值又发生了变化，两个Follower也各自拉取到了自己的消息，于是更新自己的LEO值，但是这时候Leader的HW依然没有改变。</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ibBMVuDfkZUkGTrS4o7dp9ONqkuQQ6Kr9GtpBhOCUQ9OzJ0DSXfyyXzY5tBtenuVSmEblgFJdIoicGFbT5Oia5jSg/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <p>此时，Follower再次向Leader拉取数据，这时候Leader会更新自己的HW值，取Follower中的最小的LEO值来更新。</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ibBMVuDfkZUkGTrS4o7dp9ONqkuQQ6Kr9D1cCNFhWBluQfZCJZC2R8lsxdwC89rEfLdnOlt1KyH2VIBN0T4ibbzA/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <p>之后，Leader响应自己的HW给Follower，Follower更新自己的HW值，因为又拉取到了消息，所以再次更新LEO，流程以此类推。</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_jpg/ibBMVuDfkZUkGTrS4o7dp9ONqkuQQ6Kr9RibIVwKRtUvDmSw4iaicBu8h6Zibsfo3vd2OVorXCUwwbhxF3iaZ4bfbHicQ/640?wx_fmt=jpeg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p> <h2 id="你知道新版本kafka为什么抛弃了zookeeper吗"><a href="#你知道新版本kafka为什么抛弃了zookeeper吗" class="header-anchor">#</a> 你知道新版本Kafka为什么抛弃了Zookeeper吗？</h2> <p>我认为可以从两个个方面来回答这个问题：</p> <p>首先，从运维的复杂度来看，Kafka本身是一个分布式系统，他的运维就已经很复杂了，那除此之外，还需要重度依赖另外一个ZK，这对成本和复杂度来说都是一个很大的工作量。</p> <p>其次，应该是考虑到性能方面的问题，比如之前的提交位移的操作都是保存在ZK里面的，但是ZK实际上不适合这种高频的读写更新操作，这样的话会严重影响ZK集群的性能，这一方面后来新版本中Kafka也把提交和保存位移用消息的方式来处理了。</p> <p>另外Kafka严重依赖ZK来实现元数据的管理和集群的协调工作，如果集群规模庞大，主题和分区数量很多，会导致ZK集群的元数据过多，集群压力过大，直接影响到很多Watch的延时或者丢失。</p> <h2 id="ok-最后一个大家都问的问题-kafka为什么快"><a href="#ok-最后一个大家都问的问题-kafka为什么快" class="header-anchor">#</a> OK，最后一个大家都问的问题，Kafka为什么快？</h2> <p>嘿，这个我费，我背过好多次了！主要是3个方面：</p> <p><strong>顺序IO</strong></p> <p>kafka写消息到分区采用追加的方式，也就是顺序写入磁盘，不是随机写入，这个速度比普通的随机IO快非常多，几乎可以和网络IO的速度相媲美。</p> <p><strong>Page Cache和零拷贝</strong></p> <p>kafka在写入消息数据的时候通过mmap内存映射的方式，不是真正立刻写入磁盘，而是利用操作系统的文件缓存PageCache异步写入，提高了写入消息的性能，另外在消费消息的时候又通过<code>sendfile</code>实现了零拷贝。</p> <p>关于mmap和sendfile零拷贝我都专门写过，可以看这里：<a href="http://mp.weixin.qq.com/s?__biz=MjM5NTY1MjY0MQ==&amp;mid=2650822965&amp;idx=3&amp;sn=9ad3bc736832874b44887498dea5bb95&amp;chksm=bd01cc7b8a76456dd4496d45a5a0131714586d91ccb00fe9749b53b0fd1b1a7c0d33347b2829&amp;scene=21#wechat_redirect" target="_blank" rel="noopener noreferrer">阿里二面：什么是mmap？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>批量处理和压缩</strong></p> <p>Kafka在发送消息的时候不是一条条的发送的，而是会把多条消息合并成一个批次进行处理发送，消费消息也是一个道理，一次拉取一批次的消息进行消费。</p> <p>并且Producer、Broker、Consumer都使用了优化后的压缩算法，发送和消息消息使用压缩节省了网络传输的开销，Broker存储使用压缩则降低了磁盘存储的空间。</p> <p><a href="https://blog.csdn.net/qq_27184497/article/details/120297446" target="_blank" rel="noopener noreferrer">消费者消息丢失、重复和积压问题<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2023/7/5 下午9:45:09</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-2c0089e8><li class="level-2" data-v-2c0089e8><a href="/AuroraY/%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/Kafka%E6%80%BB%E7%BB%93.html#说说你对kafka的理解" class="sidebar-link reco-side-说说你对kafka的理解" data-v-2c0089e8>说说你对kafka的理解</a></li><li class="level-2" data-v-2c0089e8><a href="/AuroraY/%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/Kafka%E6%80%BB%E7%BB%93.html#消息队列模型知道吗-kafka是怎么做到支持这两种模型的" class="sidebar-link reco-side-消息队列模型知道吗-kafka是怎么做到支持这两种模型的" data-v-2c0089e8>消息队列模型知道吗？kafka是怎么做到支持这两种模型的？</a></li><li class="level-2" data-v-2c0089e8><a href="/AuroraY/%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/Kafka%E6%80%BB%E7%BB%93.html#能说说kafka通信过程原理吗" class="sidebar-link reco-side-能说说kafka通信过程原理吗" data-v-2c0089e8>能说说kafka通信过程原理吗？</a></li><li class="level-2" data-v-2c0089e8><a href="/AuroraY/%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/Kafka%E6%80%BB%E7%BB%93.html#那么发送消息时如何选择分区的" class="sidebar-link reco-side-那么发送消息时如何选择分区的" data-v-2c0089e8>那么发送消息时如何选择分区的？</a></li><li class="level-2" data-v-2c0089e8><a href="/AuroraY/%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/Kafka%E6%80%BB%E7%BB%93.html#好-那你觉得为什么需要分区-有什么好处" class="sidebar-link reco-side-好-那你觉得为什么需要分区-有什么好处" data-v-2c0089e8>好，那你觉得为什么需要分区？有什么好处？</a></li><li class="level-2" data-v-2c0089e8><a href="/AuroraY/%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/Kafka%E6%80%BB%E7%BB%93.html#详细说说消费者组和消费者重平衡" class="sidebar-link reco-side-详细说说消费者组和消费者重平衡" data-v-2c0089e8>详细说说消费者组和消费者重平衡？</a></li><li class="level-2" data-v-2c0089e8><a href="/AuroraY/%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/Kafka%E6%80%BB%E7%BB%93.html#那你跟我再具体讲讲分区分配策略" class="sidebar-link reco-side-那你跟我再具体讲讲分区分配策略" data-v-2c0089e8>那你跟我再具体讲讲分区分配策略？</a></li><li class="level-2" data-v-2c0089e8><a href="/AuroraY/%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/Kafka%E6%80%BB%E7%BB%93.html#来吧-如何保证消息可靠性" class="sidebar-link reco-side-来吧-如何保证消息可靠性" data-v-2c0089e8>来吧！如何保证消息可靠性？</a></li><li class="level-2" data-v-2c0089e8><a href="/AuroraY/%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/Kafka%E6%80%BB%E7%BB%93.html#ok-聊聊副本和它的同步原理吧" class="sidebar-link reco-side-ok-聊聊副本和它的同步原理吧" data-v-2c0089e8>OK，聊聊副本和它的同步原理吧？</a></li><li class="level-2" data-v-2c0089e8><a href="/AuroraY/%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/Kafka%E6%80%BB%E7%BB%93.html#你知道新版本kafka为什么抛弃了zookeeper吗" class="sidebar-link reco-side-你知道新版本kafka为什么抛弃了zookeeper吗" data-v-2c0089e8>你知道新版本Kafka为什么抛弃了Zookeeper吗？</a></li><li class="level-2" data-v-2c0089e8><a href="/AuroraY/%E4%B8%AD%E9%97%B4%E4%BB%B6/kafka/Kafka%E6%80%BB%E7%BB%93.html#ok-最后一个大家都问的问题-kafka为什么快" class="sidebar-link reco-side-ok-最后一个大家都问的问题-kafka为什么快" data-v-2c0089e8>OK，最后一个大家都问的问题，Kafka为什么快？</a></li></ul></main></div> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:-1;" data-v-248d85d6></canvas></div><canvas id="vuepress-canvas-cursor"></canvas><!----></div></div>
    <script src="/AuroraY/assets/js/app.f7dbd4f5.js" defer></script><script src="/AuroraY/assets/js/3.baa1ae3e.js" defer></script><script src="/AuroraY/assets/js/1.17eb7108.js" defer></script><script src="/AuroraY/assets/js/241.c0f1b20c.js" defer></script>
  </body>
</html>
